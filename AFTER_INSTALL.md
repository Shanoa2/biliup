# ğŸ“– å®‰è£…åæ“ä½œæŒ‡å—

## ğŸ‰ å®‰è£…å®Œæˆï¼

å½“ä½ çœ‹åˆ°ä»¥ä¸‹æç¤ºæ—¶ï¼Œè¯´æ˜å®‰è£…å·²ç»æˆåŠŸï¼š

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                  å®‰è£…å®Œæˆï¼                               â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

é¡¹ç›®ç›®å½•: /root/biliup
```

## ğŸ“ ä½ ç°åœ¨åœ¨è¿™é‡Œ

```
âœ… ç³»ç»Ÿä¾èµ–å·²å®‰è£… (rclone, ffmpeg, biliup-rs)
âœ… Python ä¾èµ–å·²å®‰è£… (questionary, rich)
âœ… é¡¹ç›®æ–‡ä»¶å·²åˆ›å»º
âœ… è¾…åŠ©è„šæœ¬å·²ç”Ÿæˆ

â­ï¸  ä¸‹ä¸€æ­¥: é…ç½® rclone å’Œ Bç«™è´¦å·
```

---

## ğŸš€ ä¸‹ä¸€æ­¥æ“ä½œï¼ˆ3 æ­¥å®Œæˆï¼‰

### ç¬¬ 1 æ­¥ï¼šè¿›å…¥é¡¹ç›®ç›®å½•

```bash
cd ~/biliup
```

å¦‚æœæ˜¯ root ç”¨æˆ·ï¼š
```bash
cd /root/biliup
```

### ç¬¬ 2 æ­¥ï¼šè¿è¡Œé…ç½®å‘å¯¼

```bash
./setup.sh
```

**é…ç½®å‘å¯¼ä¼šå¼•å¯¼ä½ å®Œæˆï¼š**

#### 2.1 é…ç½® rclone äº‘ç›˜

ä¼šå‡ºç°èœå•ï¼š
```
è¯·é€‰æ‹©è¦é…ç½®çš„é¡¹ç›®:
  1) é…ç½® rclone äº‘ç›˜          â† é€‰è¿™ä¸ª
  2) ç™»å½• Bç«™è´¦å·
  3) æµ‹è¯•é…ç½®
  ...
```

**é€‰æ‹© 1ï¼Œç„¶åï¼š**

- **å¦‚æœå·²æœ‰ rclone remoteï¼š**
  - ä¼šåˆ—å‡ºç°æœ‰çš„ remote
  - é€‰æ‹©ä¸€ä¸ªä½¿ç”¨ï¼Œæˆ–åˆ›å»ºæ–°çš„

- **å¦‚æœæ²¡æœ‰ rclone remoteï¼š**
  - ä¼šè‡ªåŠ¨æ‰“å¼€ rclone é…ç½®ç•Œé¢
  - æŒ‰æç¤ºé…ç½®ä½ çš„äº‘ç›˜ï¼ˆOneDrive/é˜¿é‡Œäº‘ç›˜/Google Driveç­‰ï¼‰

**å¸¸ç”¨äº‘ç›˜é…ç½®ï¼š**
- **é˜¿é‡Œäº‘ç›˜ï¼š** é€‰æ‹© `WebDAV`
- **OneDriveï¼š** é€‰æ‹© `OneDrive`
- **Google Driveï¼š** é€‰æ‹© `Google Drive`

é…ç½®å®Œæˆåï¼Œè®¾ç½®**å¤‡ä»½è·¯å¾„**ï¼ˆäº‘ç›˜ä¸­å­˜æ”¾å½•æ’­çš„æ–‡ä»¶å¤¹ï¼‰

#### 2.2 ç™»å½• Bç«™è´¦å·

å›åˆ°èœå•ï¼Œé€‰æ‹©ï¼š
```
  2) ç™»å½• Bç«™è´¦å·              â† é€‰è¿™ä¸ª
```

**ç™»å½•æ–¹å¼ï¼ˆæ¨èæ‰«ç ï¼‰ï¼š**
1. ä¼šæ˜¾ç¤ºäºŒç»´ç 
2. ç”¨æ‰‹æœº Bç«™ APP æ‰«ç 
3. æˆæƒç™»å½•
4. å®Œæˆï¼

#### 2.3 æµ‹è¯•é…ç½®

å›åˆ°èœå•ï¼Œé€‰æ‹©ï¼š
```
  3) æµ‹è¯•é…ç½®                  â† é€‰è¿™ä¸ª
```

éªŒè¯ï¼š
- âœ… rclone èƒ½å¦è¿æ¥äº‘ç›˜
- âœ… Bç«™ç™»å½•æ˜¯å¦æœ‰æ•ˆ

å¦‚æœéƒ½æ˜¾ç¤ºæˆåŠŸï¼Œé…ç½®å®Œæˆï¼é€‰æ‹© `0` é€€å‡ºã€‚

### ç¬¬ 3 æ­¥ï¼šå¯åŠ¨ç¨‹åº

```bash
./run.sh
```

æˆ–è€…ç›´æ¥è¿è¡Œï¼š
```bash
python3 bilibili_uploader.py
```

---

## ğŸ® ç¨‹åºä½¿ç”¨æµç¨‹

å¯åŠ¨åä¼šçœ‹åˆ°ä¸»èœå•ï¼š

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  Bilibili å½•æ’­è‡ªåŠ¨ä¸Šä¼ å·¥å…·                               â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

è¯·é€‰æ‹©æ“ä½œ:
  1) ä¸Šä¼ æ–°è§†é¢‘
  2) ä¸ºç°æœ‰è§†é¢‘æ·»åŠ åˆ†P
  3) ç®¡ç†å¤±è´¥çš„ä¸Šä¼ 
  4) æŸ¥çœ‹ä¸Šä¼ å†å²
  5) é…ç½®ç®¡ç†
  0) é€€å‡º
```

### é¦–æ¬¡ä½¿ç”¨æ¨èæµç¨‹

#### 1. ä¸Šä¼ æ–°è§†é¢‘

**é€‰æ‹© 1ï¼Œç„¶åæŒ‰æç¤ºï¼š**

```
æ­¥éª¤ 1: æµè§ˆäº‘ç›˜æ–‡ä»¶å¤¹
  - æ˜¾ç¤ºäº‘ç›˜ä¸­çš„æ–‡ä»¶å¤¹åˆ—è¡¨
  - é€‰æ‹©åŒ…å«å½•æ’­çš„æ–‡ä»¶å¤¹

æ­¥éª¤ 2: é€‰æ‹©è§†é¢‘æ–‡ä»¶
  - æ˜¾ç¤ºè¯¥æ–‡ä»¶å¤¹ä¸­çš„è§†é¢‘
  - æ”¯æŒå•é€‰æˆ–å¤šé€‰

æ­¥éª¤ 3: è¾“å…¥è§†é¢‘ä¿¡æ¯
  - æ ‡é¢˜
  - åˆ†åŒºï¼ˆè‡ªåŠ¨æ¨èï¼‰
  - æ ‡ç­¾
  - ç®€ä»‹
  - é€‰æ‹©è§†é¢‘ç±»å‹ï¼ˆè‡ªåˆ¶/è½¬è½½ï¼‰        â† æ–°åŠŸèƒ½
  - è®¾ç½®å°é¢ï¼ˆè‡ªåŠ¨æˆªå–æˆ–è‡ªå®šä¹‰ï¼‰

æ­¥éª¤ 4: ç¡®è®¤å¹¶ä¸Šä¼ 
  - æ˜¾ç¤ºæ‰€æœ‰ä¿¡æ¯
  - ç¡®è®¤åå¼€å§‹ä¸Šä¼ 
  - å®æ—¶æ˜¾ç¤ºä¸Šä¼ è¿›åº¦
```

#### 2. å¤§æ–‡ä»¶è‡ªåŠ¨å¤„ç†

å¦‚æœè§†é¢‘æ–‡ä»¶ > 15GBï¼š
- âœ… è‡ªåŠ¨ä¸‹è½½åˆ°æœ¬åœ°
- âœ… è‡ªåŠ¨åˆ‡å‰²æˆå¤šä¸ªåˆ†P
- âœ… é€ä¸ªä¸Šä¼ 
- âœ… ä¸Šä¼ å®Œè‡ªåŠ¨æ¸…ç†æœ¬åœ°æ–‡ä»¶

#### 3. æŸ¥çœ‹ä¸Šä¼ ç»“æœ

ä¸Šä¼ å®Œæˆåï¼š
- æ˜¾ç¤ºè§†é¢‘ BV å·
- æ˜¾ç¤ºè§†é¢‘é“¾æ¥
- è‡ªåŠ¨è®°å½•åˆ°ä¸Šä¼ å†å²

---

## ğŸ”§ å¸¸ç”¨å‘½ä»¤

### é‡æ–°é…ç½®

```bash
cd ~/biliup
./setup.sh
```

å¯ä»¥ä¿®æ”¹ï¼š
- rclone äº‘ç›˜é…ç½®
- Bç«™ç™»å½•çŠ¶æ€
- å¤‡ä»½è·¯å¾„
- ä¸Šä¼ åˆ†åŒºå’Œæ ‡ç­¾

### å¯åŠ¨ç¨‹åº

```bash
cd ~/biliup
./run.sh
```

### æŸ¥çœ‹æ—¥å¿—

```bash
tail -f ~/biliup/upload.log
```

### æŸ¥çœ‹ä¸Šä¼ å†å²

```bash
cat ~/biliup/upload_history.json | python3 -m json.tool
```

### æŸ¥çœ‹å¤±è´¥è®°å½•

```bash
cat ~/biliup/failed_uploads.json | python3 -m json.tool
```

---

## ğŸ¯ ä½¿ç”¨åœºæ™¯ç¤ºä¾‹

### åœºæ™¯ 1: æ‰¹é‡ä¸Šä¼ å½•æ’­

```bash
cd ~/biliup
./run.sh

# 1. é€‰æ‹© "ä¸Šä¼ æ–°è§†é¢‘"
# 2. é€‰æ‹©å½•æ’­æ–‡ä»¶å¤¹
# 3. å¤šé€‰å¤šä¸ªè§†é¢‘ï¼ˆæŒ‰ç©ºæ ¼é€‰æ‹©ï¼‰
# 4. æ‰¹é‡è¾“å…¥ä¿¡æ¯
# 5. ç¡®è®¤ä¸Šä¼ 

# ç¨‹åºä¼šè‡ªåŠ¨ï¼š
# - é€ä¸ªå¤„ç†è§†é¢‘
# - å¤§æ–‡ä»¶è‡ªåŠ¨åˆ‡å‰²
# - å¤±è´¥è‡ªåŠ¨é‡è¯•
# - å®Œæˆåè®°å½•å†å²
```

### åœºæ™¯ 2: ä¸ºå·²ä¸Šä¼ çš„è§†é¢‘æ·»åŠ åˆ†P

```bash
cd ~/biliup
./run.sh

# 1. é€‰æ‹© "ä¸ºç°æœ‰è§†é¢‘æ·»åŠ åˆ†P"
# 2. è¾“å…¥è§†é¢‘ BV å·ï¼ˆå¦‚ BV1xx411c7mDï¼‰
# 3. é€‰æ‹©è¦æ·»åŠ çš„è§†é¢‘æ–‡ä»¶
# 4. ç¡®è®¤ä¸Šä¼ 

# é€‚ç”¨äºï¼š
# - ç»­é›†ã€åç»­éƒ¨åˆ†
# - è¡¥å……å†…å®¹
```

### åœºæ™¯ 3: å¤„ç†å¤±è´¥çš„ä¸Šä¼ 

```bash
cd ~/biliup
./run.sh

# 1. é€‰æ‹© "ç®¡ç†å¤±è´¥çš„ä¸Šä¼ "
# 2. æŸ¥çœ‹å¤±è´¥åˆ—è¡¨
# 3. é€‰æ‹©é‡è¯•æˆ–åˆ é™¤è®°å½•

# å¤±è´¥åŸå› å¯èƒ½ï¼š
# - ç½‘ç»œé—®é¢˜
# - æ–‡ä»¶æŸå
# - Bç«™é™åˆ¶
```

### åœºæ™¯ 4: è‡ªåŠ¨åŒ–è¿è¡Œï¼ˆåå°æœåŠ¡ï¼‰

å¦‚æœå®‰è£…æ—¶é€‰æ‹©äº†è®¾ç½® systemd æœåŠ¡ï¼š

```bash
# å¯åŠ¨æœåŠ¡
sudo systemctl start biliup-uploader

# æŸ¥çœ‹çŠ¶æ€
sudo systemctl status biliup-uploader

# æŸ¥çœ‹æ—¥å¿—
sudo journalctl -u biliup-uploader -f

# åœæ­¢æœåŠ¡
sudo systemctl stop biliup-uploader
```

---

## âš™ï¸ é«˜çº§é…ç½®

### ä¿®æ”¹é…ç½®æ–‡ä»¶

```bash
cd ~/biliup
vim config.json
```

**å¸¸ç”¨é…ç½®é¡¹ï¼š**

```json
{
  "rclone": {
    "remote": "your_remote_name",      // rclone remote åç§°
    "backup_path": "backup"            // äº‘ç›˜å¤‡ä»½è·¯å¾„
  },
  "bilibili": {
    "default_tid": 171,                // é»˜è®¤åˆ†åŒºID
    "default_tags": ["å½•æ’­", "è™šæ‹Ÿä¸»æ’­"]  // é»˜è®¤æ ‡ç­¾
  },
  "upload": {
    "max_file_size_gb": 15,            // æœ€å¤§å•æ–‡ä»¶å¤§å°ï¼ˆGBï¼‰
    "split_margin_gb": 14.5,           // åˆ‡å‰²é˜ˆå€¼
    "retry_times": 3                   // å¤±è´¥é‡è¯•æ¬¡æ•°
  }
}
```

**å¸¸ç”¨åˆ†åŒº IDï¼š**
- `171` - è™šæ‹Ÿä¸»æ’­æ—¥å¸¸
- `17` - å•æœºæ¸¸æˆ
- `65` - ç½‘ç»œæ¸¸æˆ
- `136` - ç”Ÿæ´»Â·æ—¥å¸¸
- `27` - ç»¼åˆ

### ç®¡ç† rclone é…ç½®

```bash
# é…ç½®æ–°çš„äº‘ç›˜
rclone config

# æµ‹è¯•è¿æ¥
rclone lsd your_remote:backup

# æŸ¥çœ‹æ–‡ä»¶åˆ—è¡¨
rclone ls your_remote:backup
```

---

## â“ å¸¸è§é—®é¢˜

### Q1: é…ç½®å‘å¯¼ä¸­æ²¡æœ‰çœ‹åˆ°æˆ‘çš„äº‘ç›˜ remoteï¼Ÿ

**A:** éœ€è¦å…ˆé…ç½® rcloneï¼š

```bash
rclone config

# æŒ‰æç¤ºé…ç½®ä½ çš„äº‘ç›˜
# é…ç½®å®Œæˆåé‡æ–°è¿è¡Œ ./setup.sh
```

### Q2: Bç«™ç™»å½•æ‰«ç åæç¤ºå¤±è´¥ï¼Ÿ

**A:** å¯èƒ½åŸå› ï¼š
1. ç½‘ç»œé—®é¢˜ - æ£€æŸ¥ç½‘ç»œè¿æ¥
2. äºŒç»´ç è¿‡æœŸ - é‡æ–°è¿è¡Œç™»å½•
3. è´¦å·é—®é¢˜ - ç¡®è®¤è´¦å·å¯ä»¥æ­£å¸¸ç™»å½• Bç«™

**è§£å†³ï¼š**
```bash
cd ~/biliup
./setup.sh
# é€‰æ‹© "2) ç™»å½• Bç«™è´¦å·"
# é‡æ–°æ‰«ç ç™»å½•
```

### Q3: ä¸Šä¼ å¤±è´¥æ€ä¹ˆåŠï¼Ÿ

**A:** ç¨‹åºä¼šè‡ªåŠ¨é‡è¯• 3 æ¬¡ï¼Œå¦‚æœä»ç„¶å¤±è´¥ï¼š

```bash
# 1. æŸ¥çœ‹å¤±è´¥è®°å½•
cat ~/biliup/failed_uploads.json

# 2. é‡æ–°å°è¯•
./run.sh
# é€‰æ‹© "3) ç®¡ç†å¤±è´¥çš„ä¸Šä¼ "
# é€‰æ‹©é‡è¯•

# 3. æˆ–æ‰‹åŠ¨å¤„ç†
# æ‰¾åˆ°å¤±è´¥çš„è§†é¢‘æ–‡ä»¶ï¼Œé‡æ–°ä¸Šä¼ 
```

### Q4: å¦‚ä½•æ›´æ¢äº‘ç›˜è´¦å·ï¼Ÿ

**A:** é‡æ–°é…ç½® rcloneï¼š

```bash
# 1. é…ç½®æ–°çš„ remote
rclone config

# 2. æ›´æ–°é…ç½®
cd ~/biliup
./setup.sh
# é€‰æ‹© "1) é…ç½® rclone äº‘ç›˜"
# é€‰æ‹©æ–°é…ç½®çš„ remote
```

### Q5: ç¨‹åºè¿è¡Œä¸­æ–­äº†æ€ä¹ˆåŠï¼Ÿ

**A:** ç¨‹åºæœ‰æ–­ç‚¹ç»­ä¼ åŠŸèƒ½ï¼š

```bash
# ç›´æ¥é‡æ–°è¿è¡Œ
cd ~/biliup
./run.sh

# é€‰æ‹©ç»§ç»­ä¹‹å‰çš„ä»»åŠ¡
# æˆ–æŸ¥çœ‹ "ç®¡ç†å¤±è´¥çš„ä¸Šä¼ "
```

---

## ğŸ”„ æ›´æ–°ç¨‹åº

å¦‚æœé¡¹ç›®æœ‰æ›´æ–°ï¼š

```bash
# æ–¹æ³• 1: é‡æ–°ä¸‹è½½ä¸»ç¨‹åº
cd ~/biliup
curl -O https://raw.githubusercontent.com/YOUR_USERNAME/YOUR_REPO/main/bilibili_uploader.py

# æ–¹æ³• 2: å®Œå…¨é‡æ–°å®‰è£…
cd ~
rm -rf biliup
curl -fsSL https://raw.githubusercontent.com/YOUR_USERNAME/YOUR_REPO/main/install.sh | \
  GITHUB_REPO=YOUR_USERNAME/YOUR_REPO bash
```

**æ³¨æ„ï¼š** é‡æ–°å®‰è£…å‰è¯·å¤‡ä»½é…ç½®æ–‡ä»¶ï¼š
```bash
cp ~/biliup/config.json ~/config.json.backup
cp ~/biliup/cookies.json ~/cookies.json.backup
```

---

## ğŸ› ï¸ å¸è½½

å¦‚æœéœ€è¦å¸è½½ï¼š

```bash
cd ~/biliup
./uninstall.sh
```

ä¼šå¼•å¯¼ä½ é€‰æ‹©ï¼š
1. åˆ é™¤æ‰€æœ‰æ–‡ä»¶ï¼ˆåŒ…æ‹¬é…ç½®ï¼‰
2. ä»…åˆ é™¤ç¨‹åºï¼Œä¿ç•™é…ç½®
3. ä¿ç•™æ‰€æœ‰æ–‡ä»¶

---

## ğŸ“š æ›´å¤šå¸®åŠ©

- **è¯¦ç»†æ–‡æ¡£ï¼š** æŸ¥çœ‹ `README.md`
- **GitHub é—®é¢˜ï¼š** æäº¤ issue åˆ°é¡¹ç›®ä»“åº“
- **é…ç½®è¯´æ˜ï¼š** æŸ¥çœ‹ `config.json` ä¸­çš„æ³¨é‡Š

---

## ğŸ‰ å¼€å§‹ä½¿ç”¨

ç°åœ¨ä½ å·²ç»çŸ¥é“å¦‚ä½•ä½¿ç”¨äº†ï¼

```bash
# å¿«é€Ÿå¼€å§‹
cd ~/biliup
./run.sh

# é€‰æ‹© "1) ä¸Šä¼ æ–°è§†é¢‘"
# äº«å—è‡ªåŠ¨åŒ–ä¸Šä¼ çš„ä¾¿åˆ©ï¼
```

ç¥ä½¿ç”¨æ„‰å¿«ï¼ğŸš€
